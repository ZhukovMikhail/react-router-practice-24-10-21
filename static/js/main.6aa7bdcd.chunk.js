(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{34:function(t,e,n){},63:function(t,e,n){},64:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(27),i=n.n(a),s=(n(34),n(2)),o=n(7),u=n(6),j=n(1);function b(t){var e=t.movies,n=Object(s.g)();return Object(j.jsx)("ul",{children:e.map((function(t){return Object(j.jsx)("li",{children:Object(j.jsx)(u.b,{to:{pathname:"/movies/".concat(t.id),state:{from:"/"===n.pathname?"/":"/movies"+n.search}},children:Object(j.jsx)("h3",{children:t.original_title})})},t.id)}))})}var h=n(8),l=n.n(h),d=n(13),p=n(10),O=n.n(p);O.a.defaults.baseURL="https://api.themoviedb.org/3";var v="3d673b2d8e40eafc68577fae5a6a1f4b";function f(){return(f=Object(d.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("/trending/all/day?api_key=".concat(v));case 2:return e=t.sent,n=e.data.results,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t){return m.apply(this,arguments)}function m(){return(m=Object(d.a)(l.a.mark((function t(e){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("/search/movie?api_key=".concat(v,"&query=").concat(e));case 2:return n=t.sent,c=n.data.results,t.abrupt("return",c);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){return(g=Object(d.a)(l.a.mark((function t(e){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("/movie/".concat(e,"?api_key=").concat(v));case 2:return n=t.sent,c=n.data,t.abrupt("return",c);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(){var t=Object(c.useState)([]),e=Object(o.a)(t,2),n=e[0],r=e[1];return Object(c.useEffect)((function(){(function(){return f.apply(this,arguments)})().then(r)}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Home Page"}),Object(j.jsx)(b,{movies:n})]})}function k(){var t=Object(s.h)(),e=Object(s.g)(),n=Object(s.f)(),r=Object(c.useState)(null),a=Object(o.a)(r,2),i=a[0],u=a[1];return Object(c.useEffect)((function(){(function(t){return g.apply(this,arguments)})(t.movieId).then(u)}),[t.movieId]),null===i?Object(j.jsx)("h1",{children:"\u0422\u0430\u043a\u043e\u0433\u043e \u043d\u0435\u0442"}):Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(){var t,c;(null===(t=e.state)||void 0===t?void 0:t.from)&&n.push(null===(c=e.state)||void 0===c?void 0:c.from)},type:"button",children:"\u041d\u0430\u0437\u0430\u0434"}),Object(j.jsx)("h1",{children:i.title}),Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/"+i.poster_path,alt:""})]})}var w=n(18);function S(){var t,e=Object(s.f)(),n=Object(c.useState)(""),r=Object(o.a)(n,2),a=r[0],i=r[1],u=Object(c.useState)([]),h=Object(o.a)(u,2),l=h[0],d=h[1];return Object(c.useEffect)((function(){var t;if(""!==(null===(t=e.location)||void 0===t?void 0:t.search)){var n,c=null===(n=e.location)||void 0===n?void 0:n.search.split("=")[1];x(c).then(d),i(c)}}),[null===(t=e.location)||void 0===t?void 0:t.search]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"MoviesPage"}),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),x(a).then(d),e.push(Object(w.a)(Object(w.a)({},e.location),{},{search:"?query=".concat(a)}))},children:[Object(j.jsx)("input",{type:"text",onChange:function(t){return i(t.target.value)},value:a}),Object(j.jsx)("button",{type:"submit",children:"Search"})]}),Object(j.jsx)(b,{movies:l})]})}n(63);function _(){return Object(j.jsxs)("div",{children:[Object(j.jsx)(u.c,{to:"/",children:"Home"}),Object(j.jsx)(u.c,{to:"/movies",children:"Movies"})]})}var E=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(_,{}),Object(j.jsxs)(s.c,{children:[Object(j.jsx)(s.a,{path:"/",exact:!0,children:Object(j.jsx)(y,{})}),Object(j.jsx)(s.a,{path:"/movies/:movieId",children:Object(j.jsx)(k,{})}),Object(j.jsx)(s.a,{path:"/movies",children:Object(j.jsx)(S,{})})]})]})};i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(u.a,{children:Object(j.jsx)(E,{})})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.6aa7bdcd.chunk.js.map